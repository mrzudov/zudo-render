<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Zudo Render</title>
</head>
<body style="background:#000;color:#0f0;text-align:center;font-family:sans-serif;">
  <h1>Zudo Render ğŸ§ </h1>
  <input type="file" id="imageInput"><br><br>
  <input type="text" id="promptInput" placeholder="Nháº­p prompt mÃ´ táº£" size="50"><br><br>
  <button id="renderButton">ğŸš€ Render</button>
  <p id="status"></p>
  <div style="display:flex;justify-content:center;gap:20px;margin-top:20px;">
    <div>
      <h4>áº¢nh gá»‘c</h4>
      <img id="originalImage" style="max-width:300px;border:1px solid #0f0;">
    </div>
    <div>
      <h4>Káº¿t quáº£</h4>
      <img id="resultImage" style="max-width:300px;border:1px solid #0f0;">
    </div>
  </div>

<script>
  const imageInput = document.getElementById("imageInput");
  const promptInput = document.getElementById("promptInput");
  const renderButton = document.getElementById("renderButton");
  const statusText = document.getElementById("status");
  const originalImage = document.getElementById("originalImage");
  const resultImage = document.getElementById("resultImage");

  renderButton.onclick = async () => {
    const file = imageInput.files[0];
    const prompt = promptInput.value;

    if (!file) return alert("Vui lÃ²ng chá»n áº£nh!");

    const formData = new FormData();
    formData.append("image", file);
    formData.append("prompt", prompt);

    renderButton.disabled = true;
    statusText.textContent = "â³ Äang gá»­i áº£nh Ä‘áº¿n AI...";

    originalImage.src = URL.createObjectURL(file);

    try {
      const res = await fetch("/render", { method: "POST", body: formData });
      const data = await res.json();

      if (res.ok) {
        resultImage.src = data.image_url;
        statusText.textContent = "âœ… Render hoÃ n táº¥t!";
      } else {
        statusText.textContent = "âŒ " + (data.error || "Render tháº¥t báº¡i!");
      }
    } catch (err) {
      statusText.textContent = "âŒ Lá»—i máº¡ng: " + err.message;
    } finally {
      renderButton.disabled = false;
    }
  };
</script>
</body>
</html>
